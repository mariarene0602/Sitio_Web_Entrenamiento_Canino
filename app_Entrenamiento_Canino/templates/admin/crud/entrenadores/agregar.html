{% extends "admin/crud/base_crud.html" %}

{% block page_title %}Agregar Entrenador{% endblock %}
{% block page_subtitle %}Nuevo registro de personal docente{% endblock %}

{% block page_actions %}
<a href="{% url 'ver_entrenadores' %}" class="admin-btn-warning">
    <i class="fas fa-arrow-left"></i> Volver a la Lista
</a>
{% endblock %}

{% block card_icon %}user-tie{% endblock %}
{% block card_title %}Formulario Completo de Entrenador{% endblock %}

{% block card_content %}
<!-- IMPORTANTE: enctype="multipart/form-data" es OBLIGATORIO para subir fotos -->
<form method="POST" action="{% url 'agregar_entrenador' %}" class="needs-validation" novalidate enctype="multipart/form-data">
    {% csrf_token %}
    
    {% if error %}
    <div class="alert alert-danger">{{ error }}</div>
    {% endif %}
    
    <div class="row">
        <div class="col-md-6 mb-3">
            <label for="nombre" class="form-label">Nombre *</label>
            <input type="text" class="form-control admin-form-control" id="nombre" name="nombre" required>
        </div>
        
        <div class="col-md-6 mb-3">
            <label for="apellido" class="form-label">Apellido</label>
            <input type="text" class="form-control admin-form-control" id="apellido" name="apellido">
        </div>
    </div>
    
    <div class="row">
        <div class="col-md-6 mb-3">
            <label for="email" class="form-label">Email *</label>
            <!-- CORRECCIÓN: name="email" para que coincida con views.py -->
            <input type="email" class="form-control admin-form-control" id="email" name="email" required>
        </div>
        
        <div class="col-md-6 mb-3">
            <label for="telefono" class="form-label">Teléfono *</label>
            <input type="tel" class="form-control admin-form-control" id="telefono" name="telefono" required>
        </div>
    </div>
    
    <div class="row">
        <div class="col-md-6 mb-3">
            <label for="titulo" class="form-label">Título Profesional</label>
            <input type="text" class="form-control admin-form-control" id="titulo" name="titulo" 
                   placeholder="Ej: Médico Veterinario Zootecnista">
        </div>
        
        <div class="col-md-6 mb-3">
            <label for="especialidad" class="form-label">Especialidad *</label>
            <!-- Dejé input texto para que puedas copiar y pegar los 9 registros fácilmente -->
            <input type="text" class="form-control admin-form-control" id="especialidad" name="especialidad" required 
                   placeholder="Ej: Etología Clínica">
        </div>
    </div>
    
    <div class="row">
        <div class="col-md-6 mb-3">
            <label for="experiencia" class="form-label">Años de Experiencia</label>
            <input type="number" class="form-control admin-form-control" id="experiencia" name="experiencia" min="0" value="0">
        </div>
        
        <div class="col-md-6 mb-3">
            <label for="tarifa_hora" class="form-label">Tarifa por Hora ($)</label>
            <input type="number" step="0.01" class="form-control admin-form-control" id="tarifa_hora" name="tarifa_hora" value="0.00">
        </div>
    </div>
    
    <div class="mb-3">
        <label for="biografia" class="form-label">Biografía / Perfil</label>
        <textarea class="form-control admin-form-control" id="biografia" name="biografia" rows="4"></textarea>
    </div>
    
    <div class="row">
        <div class="col-md-6 mb-3">
            <label for="foto" class="form-label">Foto de Perfil</label>
            <input type="file" class="form-control admin-form-control" id="foto" name="foto" accept="image/*">
        </div>
        
        <div class="col-md-6 mb-3">
            <label for="horario_disponibilidad" class="form-label">Horario de Disponibilidad</label>
            <input type="text" class="form-control admin-form-control" id="horario_disponibilidad" name="horario_disponibilidad"
                   placeholder="Ej: Lunes a Viernes 9:00-18:00">
        </div>
    </div>
    
    <div class="form-check mb-3">
        <input class="form-check-input" type="checkbox" id="disponible" name="disponible" checked>
        <label class="form-check-label" for="disponible">
            Entrenador disponible para asignar citas
        </label>
    </div>
    
    <div class="d-flex justify-content-between mt-4">
        <a href="{% url 'ver_entrenadores' %}" class="admin-btn-warning">
            <i class="fas fa-times"></i> Cancelar
        </a>
        <button type="submit" class="admin-btn-primary">
            <i class="fas fa-save"></i> Guardar Entrenador
        </button>
    </div>
</form>
{% endblock %}