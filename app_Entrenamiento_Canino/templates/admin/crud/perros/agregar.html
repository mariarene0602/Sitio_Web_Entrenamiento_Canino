{% extends "admin/crud/base_crud.html" %}

{% block page_title %}Agregar Perro{% endblock %}
{% block page_subtitle %}Nuevo registro de perro{% endblock %}

{% block page_actions %}
<a href="{% url 'ver_perros' %}" class="admin-btn-warning">
    <i class="fas fa-arrow-left"></i> Volver a la Lista
</a>
{% endblock %}

{% block card_icon %}paw{% endblock %}
{% block card_title %}Formulario de Nuevo Perro{% endblock %}

{% block card_content %}
<form method="POST" action="{% url 'agregar_perro_admin' %}" class="needs-validation" novalidate>
    {% csrf_token %}
    
    <div class="row">
        <div class="col-md-6 mb-3">
            <label for="nombre" class="form-label">Nombre del Perro *</label>
            <input type="text" class="form-control admin-form-control" id="nombre" name="nombre" required>
            <div class="invalid-feedback">Por favor ingresa el nombre del perro.</div>
        </div>
        
        <div class="col-md-6 mb-3">
            <label for="raza" class="form-label">Raza *</label>
            <input type="text" class="form-control admin-form-control" id="raza" name="raza" required>
            <div class="invalid-feedback">Por favor ingresa la raza del perro.</div>
        </div>
    </div>
    
    <div class="row">
        <div class="col-md-4 mb-3">
            <label for="edad" class="form-label">Edad (meses) *</label>
            <input type="number" class="form-control admin-form-control" id="edad" name="edad" min="1" max="300" required>
            <div class="invalid-feedback">Por favor ingresa una edad válida (1-300 meses).</div>
        </div>
        
        <div class="col-md-4 mb-3">
            <label for="sexo" class="form-label">Sexo *</label>
            <select class="form-select admin-form-control" id="sexo" name="sexo" required>
                <option value="">Seleccionar</option>
                <option value="Macho">Macho</option>
                <option value="Hembra">Hembra</option>
            </select>
            <div class="invalid-feedback">Por favor selecciona el sexo.</div>
        </div>
        
        <div class="col-md-4 mb-3">
            <label for="peso" class="form-label">Peso (kg)</label>
            <input type="number" step="0.1" class="form-control admin-form-control" id="peso" name="peso" min="0.1" max="100">
        </div>
    </div>
    
    <div class="row">
        <div class="col-md-6 mb-3">
            <label for="cliente" class="form-label">Dueño (Cliente)</label>
            <select class="form-select admin-form-control" id="cliente" name="cliente">
                <option value="">Seleccionar dueño</option>
                {% for cliente in clientes %}
                <option value="{{ cliente.id }}">{{ cliente.nombre }} {{ cliente.apellido }}</option>
                {% endfor %}
            </select>
        </div>
        
        <div class="col-md-6 mb-3">
            <label for="tamaño" class="form-label">Tamaño *</label>
            <select class="form-select admin-form-control" id="tamaño" name="tamaño" required>
                <option value="">Seleccionar</option>
                <option value="pequeño">Pequeño (1-10 kg)</option>
                <option value="mediano">Mediano (11-25 kg)</option>
                <option value="grande">Grande (26-45 kg)</option>
                <option value="gigante">Gigante (+45 kg)</option>
            </select>
            <div class="invalid-feedback">Por favor selecciona el tamaño.</div>
        </div>
    </div>
    
    <div class="mb-3">
        <label for="comportamiento" class="form-label">Comportamiento / Observaciones</label>
        <textarea class="form-control admin-form-control" id="comportamiento" name="comportamiento" rows="3" 
                  placeholder="Describe el comportamiento del perro, problemas de conducta, etc."></textarea>
    </div>
    
    <div class="d-flex justify-content-between mt-4">
        <a href="{% url 'ver_perros' %}" class="admin-btn-warning">
            <i class="fas fa-times"></i> Cancelar
        </a>
        <button type="submit" class="admin-btn-primary">
            <i class="fas fa-save"></i> Guardar Perro
        </button>
    </div>
</form>
{% endblock %}